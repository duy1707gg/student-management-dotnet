@model student_management_dotnet.ViewModel.EditCourseViewModel

@{
    ViewData["Title"] = "Edit Course";
}

<div class="container mx-auto px-4 py-6">
    <h1 class="text-2xl font-bold text-gray-800 mb-4">Edit Course</h1>
    <div class="h-0.5 bg-gray-200 mb-6"></div>

    <form asp-action="EditCourse" method="post">
        <div asp-validation-summary="ModelOnly" class="text-red-500 mb-4 p-4 bg-red-50 rounded-md border border-red-200"></div>
        <input type="hidden" name="id" value="@ViewData["CourseId"]" />
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="md:col-span-2 space-y-4">
                <div>
                    <label asp-for="CourseName" class="block text-sm font-medium text-gray-700 mb-1">Course Name</label>
                    <input asp-for="CourseName" class="w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50" />
                    <span asp-validation-for="CourseName" class="text-red-500 text-sm"></span>
                </div>

                <div>
                    <label asp-for="Description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                    <textarea asp-for="Description" class="w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50" rows="5"></textarea>
                    <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
                </div>
            </div>
            
            <div class="space-y-6">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="bg-gray-50 px-4 py-3 border-b">
                        <h5 class="font-semibold text-gray-800">Course Details</h5>
                    </div>
                    <div class="p-4">
                        <dl class="space-y-3">
                            <div class="flex">
                                <dt class="w-1/2 text-sm font-medium text-gray-500">Course ID:</dt>
                                <dd class="w-1/2 text-sm text-gray-900">@ViewData["CourseId"]</dd>
                            </div>
                            
                            <div class="flex">
                                <dt class="w-1/2 text-sm font-medium text-gray-500">Created:</dt>
                                <dd class="w-1/2 text-sm text-gray-900">@(((DateTime)ViewData["CreatedAt"]).ToString("dd MMM yyyy"))</dd>
                            </div>
                            
                            <div class="flex">
                                <dt class="w-1/2 text-sm font-medium text-gray-500">Classes:</dt>
                                <dd class="w-1/2 text-sm text-gray-900">@ViewData["ClassCount"]</dd>
                            </div>
                        </dl>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="bg-blue-500 px-4 py-3 border-b">
                        <h5 class="font-semibold text-white">Manage Classes</h5>
                    </div>
                    <div class="p-4 space-y-3">
                        <a asp-controller="Class" asp-action="Create" asp-route-courseId="@ViewData["CourseId"]" class="flex justify-center items-center px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-md w-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                            </svg>
                            Add New Class
                        </a>
                        <a asp-action="Details" asp-route-id="@ViewData["CourseId"]" class="flex justify-center items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-md w-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                            </svg>
                            View Classes
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="flex space-x-3">
            <button type="submit" class="inline-flex justify-center items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
                Save Changes
            </button>
            <a asp-action="Index" class="inline-flex justify-center items-center px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                </svg>
                Back to List
            </a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}